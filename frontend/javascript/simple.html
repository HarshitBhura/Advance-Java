<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BackEnd Data Integration</title>
</head>
<body>
    <h1>Getting the Data From Backend</h1>
    <input type="text" id="a">
    <button onclick="getUser3()">Fetch</button>
    <div id="b"></div>

    <script>
        async function getUser3()
        {
            document.getElementById('b').innerHTML="sync and await method"
            let userid=document.getElementById('a').value;
            let URL=`https://jsonplaceholder.typicode.com/users/${userid}`;
            let res=await fetch(URL);// waits until promises is resolved or rejected , here response return
            let js=await res.json();// waits until promise is resolved or rejected ,here response body return 
            document.getElementById('b').innerHTML+=`<p>ID= ${js.id}, Name= ${js.username}</p>`;       
        }

        function getUser2()
        {
            document.getElementById('b').innerHTML="Promises Method"
            let userid=document.getElementById('a').value;
            let URL=`https://jsonplaceholder.typicode.com/users/${userid}`;
            fetch(URL).then(response=>response.json())
            .then(json => document.getElementById('b').innerHTML+=json.username+' '+json.email)
        }
        function getUser()
        {
            document.getElementById('b').innerHTML="XMLHttpRequest Method"
            let xhr=new XMLHttpRequest();
            let userid=document.getElementById('a').value;
            let URL=`https://jsonplaceholder.typicode.com/users/${userid}`;
            xhr.open('GET',URL); //ready state 1
            xhr.send(); //ready state 2
            xhr.onreadystatechange=()=>{
                if(xhr.readyState==4)
                {
                    //responseText is the property that stotres the data
                    document.getElementById('b').innerHTML+=xhr.responseText;
                }
            }
        }
    </script>

</body>
</html>